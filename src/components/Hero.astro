---
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';
import { Icon } from 'astro-icon/components';

import Gorilla from '../assets/images/gorilla.webp';
import Panda from '../assets/images/panda.webp';
import LogoStudio from '../assets/images/logo-nakama.webp';
import LogoGame from '../assets/images/logo-how.webp';
import Croco from '../assets/images/croco.gif'; 
import Human from '../assets/images/human.gif'; 
import Jugabilidad from '../assets/images/jugabilidad.webp';
import Modos from '../assets/images/modos.webp';
import Multijugador from '../assets/images/multijugador.webp';
import Personaliza from '../assets/images/personaliza.webp';
import Progresa from '../assets/images/progresa.webp';
import Wardians from '../assets/images/wardians.webp';
import Gameplay1 from '../assets/images/gameplay1.png';
import Gameplay2 from '../assets/images/gameplay2.png';
import Gameplay3 from '../assets/images/gameplay3.png';
import Gameplay4 from '../assets/images/gameplay4.png';
import Separador from '../assets/images/separador.webp';
---

<Layout>
  <div class="relative h-[400vh]">

    <!-- SECCIÓN 1 -->
    <section class="sticky top-0 h-screen z-10 bg-[url('/pink-background.png')] bg-cover bg-center bg-fixed flex items-center justify-center px-6 text-white overflow-hidden">
      <!-- HEADER -->
      <div class="absolute top-4 left-4 z-10">
        <Image src={LogoStudio} alt="Nakama Game Studio" class="w-24 md:w-32" />
      </div>
      <div class="absolute top-4 right-4 flex gap-4 z-20">
        <a href="https://www.instagram.com/nakamagamestudio/" class="w-6 md:w-8 hover:scale-110 transition-transform duration-200">
          <Icon name="instagram" class="w-full h-full text-white" />
        </a>
        <a href="https://www.tiktok.com/@nakama_gamestudio" class="w-6 md:w-8 hover:scale-110 transition-transform duration-200">
          <Icon name="tiktok" class="w-full h-full text-white" />
        </a>
        <a href="https://www.youtube.com/@Nakamagamestudio" class="w-6 md:w-8 hover:scale-110 transition-transform duration-200">
          <Icon name="youtube" class="w-full h-full text-white" />
        </a>
      </div>

      <!-- LOGO -->
      <div class="absolute top-8 left-1/2 transform -translate-x-1/2 z-10">
        <Image src={LogoGame} alt="House of Wardians" class="w-60 md:w-80" />
      </div>

      <!-- TÍTULO -->
      <div class="relative z-10 text-center">
        <h2 class="font-anton font-extrabold text-white text-3xl md:text-5xl drop-shadow-[3px_3px_0_rgba(0,0,0,1)] -rotate-2" style="-webkit-text-stroke: 1px black;">
          ¡LLEGAN LOS
        </h2>
        <h1 class="font-anton font-extrabold text-white text-[64px] md:text-[120px] lg:text-[200px] leading-none tracking-tight drop-shadow-[8px_8px_0_rgba(0,0,0,1)] -rotate-2" style="-webkit-text-stroke: 3px black;">
          WARDIANS!
        </h1>
        <a href="https://houseofwardians.com" class="blank mt-8 inline-block px-6 py-3 bg-yellow-400 border-[3px] border-black rounded-lg shadow-[0_4px_0_0_rgba(0,0,0,1)] text-black font-extrabold text-lg tracking-wide hover:bg-yellow-300 transition-transform active:translate-y-1">
          ¡JUEGA AHORA!
        </a>
      </div>

      <!-- PERSONAJES HERO -->
      <div class="absolute bottom-0 left-0 w-44 md:w-96 lg:w-[32rem] z-10 transform -scale-x-100">
        <Image src={Panda} alt="Panda" />
      </div>
      <div class="absolute bottom-0 right-0 w-44 md:w-96 lg:w-[32rem] z-10">

        <Image src={Gorilla} alt="Gorilla" />
      </div>
    </section>

    <!-- SEPARADOR PAL0 -->
    <div class="relative z-30 h-[120px] overflow-visible">
      <Image src={Separador} alt="Separador palo" class="absolute left-0 w-full max-w-none pointer-events-none"/>
    </div>

    <!-- SECCIÓN 2 superpuesta -->
    <section class="sticky top-0 h-screen z-20 bg-[url('/purple-background.png')] bg-cover bg-center bg-fixed text-white flex items-center justify-center px-6 overflow-hidden">
      <!-- Fondo parallax icónico -->
      
      <div class="absolute bottom-0 left-20 z-10 w-44 md:w-80 lg:w-[30rem] transform -scale-x-100">

        <Image src={Human} alt="Human" />
      </div>
      <div class="absolute bottom-0 right-0 z-30 w-44 md:w-80 lg:w-[44rem]">
        <Image src={Croco} alt="Croco" />
      </div>

      <!-- TÍTULOS -->
      <div class="relative z-20 text-center px-4 max-w-5xl mx-auto">
        <h2 class="font-anton font-extrabold text-white text-4xl md:text-6xl lg:text-8xl drop-shadow-[6px_6px_0_rgba(0,0,0,1)] -rotate-2 uppercase" style="-webkit-text-stroke: 2px black;">
          prepárate.
        </h2>
        <h2 class="font-anton font-extrabold text-white text-4xl md:text-6xl lg:text-8xl drop-shadow-[6px_6px_0_rgba(0,0,0,1)] -rotate-2 uppercase" style="-webkit-text-stroke: 2px black;">
          enfréntalos.
        </h2>
        <h2 class="font-anton font-extrabold text-white text-4xl md:text-6xl lg:text-8xl drop-shadow-[6px_6px_0_rgba(0,0,0,1)] -rotate-2 uppercase" style="-webkit-text-stroke: 2px black;">
          véncelos.
        </h2>
        <p class="mt-6 text-lg md:text-xl text-white/90 max-w-xl mx-auto">
          House of Wardians es un juego de lucha estratégico con combate automático, centrado en la gestión y evolución de luchadores.
        </p>
      </div>
    </section>

    <!-- SECCIÓN 3 plantilla -->
      <section class="sticky top-0 h-screen z-30 bg-[url('/purple-background.png')] bg-cover bg-center bg-fixed flex items-center justify-center px-6 text-white overflow-hidden fade-in-on-scroll">
      <div class="absolute top-10 left-10 animate-float-slow z-10 w-24 md:w-32 lg:w-40">
        <Image src={Jugabilidad} alt="Icono Jugabilidad" />
      </div>
      <div class="absolute top-10 left-1/2 transform -translate-x-1/2 animate-float-fast z-10 w- md:w-32 lg:w-40">
        <Image src={Modos} alt="Icono Modos" />
      </div>
      <div class="absolute top-10 right-10 animate-float-slow z-10 w-24 md:w-32 lg:w-40">
        <Image src={Multijugador} alt="Icono Multijugador" />
      </div>
      <div class="absolute bottom-10 left-10 animate-float-fast z-10 w-24 md:w-32 lg:w-40">
        <Image src={Personaliza} alt="Icono Personaliza" />
      </div>
      <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-float-slow z-10 w-24 md:w-32 lg:w-40">
        <Image src={Progresa} alt="Icono Progresa" />
      </div>
      <div class="absolute bottom-10 right-10 animate-float-fast z-10 w-24 md:w-32 lg:w-40">
        <Image src={Wardians} alt="Icono Wardians" />
      </div>

      <div class="relative z-20 text-center">
        <h2 class="font-anton text-white text-5xl md:text-7xl lg:text-[160px] font-extrabold drop-shadow-[5px_5px_0_rgba(0,0,0,1)] -rotate-2" style="-webkit-text-stroke: 2px black;">
          Explora tus logros
        </h2>
        <h2 class="font-anton text-white text-5xl md:text-7xl lg:text-[160px] font-extrabold drop-shadow-[5px_5px_0_rgba(0,0,0,1)] -rotate-2" style="-webkit-text-stroke: 2px black;">
          y recompensas
        </h2>
        <p class="mt-6 text-lg md:text-xl text-white/90 max-w-xl mx-auto">
          Diseñado para ofrecer una experiencia accesible pero profunda, HoW combina elementos de RPG, coleccionismo y personalización con una estructura multijugador asíncrona ideal para sesiones móviles.
        </p>
      </div>
    </section>

    <!-- SECCIÓN 4: GAMEPLAY -->
    <section class="sticky top-0 h-screen z-40 bg-[url('/purple-background.png')] bg-cover bg-center bg-fixed text-white flex items-center justify-center px-6 overflow-hidden fade-in-on-scroll">
      <!-- Cuatro imágenes de fondo -->
      <div class="absolute top-0 left-0 w-1/2 h-1/2 z-0">
        <Image src={Gameplay1} alt="Gameplay 1" class="object-cover w-full h-full" />
      </div>
      <div class="absolute top-0 right-0 w-1/2 h-1/2 z-0">
        <Image src={Gameplay2} alt="Gameplay 2" class="object-cover w-full h-full" />
      </div>
      <div class="absolute bottom-0 left-0 w-1/2 h-1/2 z-0">
        <Image src={Gameplay3} alt="Gameplay 3" class="object-cover w-full h-full" />
      </div>
      <div class="absolute bottom-0 right-0 w-1/2 h-1/2 z-0">
        <Image src={Gameplay4} alt="Gameplay 4" class="object-cover w-full h-full" />
      </div>

      <!-- Texto central -->
      <div class="relative z-10 text-center">
        <h2 class="font-anton text-white text-5xl md:text-7xl font-extrabold drop-shadow-[5px_5px_0_rgba(0,0,0,1)] -rotate-2" style="-webkit-text-stroke: 2px black;">
          Así se ve nuestro juego
        </h2>
      </div>
    </section>
  </div>

  <script>
    if (typeof window !== 'undefined') {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('fade-in');
          } else {
            entry.target.classList.remove('fade-in');
          }
        });
      }, { threshold: 0.4 });

      document.querySelectorAll('.fade-in-on-scroll').forEach(el => {
        observer.observe(el);
      });
    }
  </script>

  <style>
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }
    .animate-float-slow {
      animation: float 6s ease-in-out infinite;
    }
    .animate-float-fast {
      animation: float 4s ease-in-out infinite;
    }

    .fade-in-on-scroll {
      opacity: 0;
      transition: opacity 1.0s ease-in-out;
    }
    .fade-in-on-scroll.fade-in {
      opacity: 1;
    }
  </style>
</Layout>
