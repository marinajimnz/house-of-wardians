---
import Layout from "../layouts/Layout.astro";
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";
import "../styles/global.css";

import Gorilla from "../assets/images/gorilla.webp";
import Panda from "../assets/images/panda.webp";
import LogoStudio from "../assets/images/logo-nakama.webp";
import LogoGame from "../assets/images/logo-how.webp";
import Croco from "../assets/images/croco.gif";
import Human from "../assets/images/human.gif";
import Jugabilidad from "../assets/images/jugabilidad.webp";
import Modos from "../assets/images/modos.webp";
import Multijugador from "../assets/images/multijugador.webp";
import Personaliza from "../assets/images/personaliza.webp";
import Progresa from "../assets/images/progresa.webp";
import Wardians from "../assets/images/wardians.webp";
import Separador from "../assets/images/separador.webp";
import Gecko from "../assets/images/gecko.gif";
import Bull from "../assets/images/bull.gif";
---

<Layout>
  <div class="relative h-[400vh]">
    <!-- SECCIÓN 1 -->
    <section
      class="sticky top-0 h-screen z-10 bg-[url('/background.jpg')] bg-cover bg-center bg-fixed flex items-center justify-center px-6 text-white overflow-hidden"
    >
      <!-- HEADER -->
      <div class="absolute top-4 left-4 z-10">
        <Image src={LogoStudio} alt="Nakama Game Studio" class="w-24 md:w-32" />
      </div>
      <div class="absolute top-4 right-4 flex gap-4 z-20">
        <a
          href="https://www.instagram.com/nakamagamestudio/"
          class="w-6 md:w-8 hover:scale-110 transition-transform duration-200"
        >
          <Icon name="instagram" class="w-full h-full text-white" />
        </a>
        <a
          href="https://www.tiktok.com/@nakama_gamestudio"
          class="w-6 md:w-8 hover:scale-110 transition-transform duration-200"
        >
          <Icon name="tiktok" class="w-full h-full text-white" />
        </a>
        <a
          href="https://www.youtube.com/@Nakamagamestudio"
          class="w-6 md:w-8 hover:scale-110 transition-transform duration-200"
        >
          <Icon name="youtube" class="w-full h-full text-white" />
        </a>
      </div>

      <!-- LOGO -->
      <div class="absolute top-8 left-1/2 transform -translate-x-1/2 z-10">
        <Image src={LogoGame} alt="House of Wardians" class="w-60 md:w-80" />
      </div>

      <!-- TÍTULO -->
      <div class="relative z-10 text-center">
        <h2
          class="font-lilita font-extrabold text-white text-3xl md:text-5xl drop-shadow-[3px_3px_0_rgba(0,0,0,1)] -rotate-2"
        >
          ¡LLEGAN LOS
        </h2>
        <h1
          class="font-lilita font-extrabold text-white text-[64px] md:text-[120px] lg:text-[200px] leading-none tracking-tight drop-shadow-[8px_8px_0_rgba(0,0,0,1)] -rotate-2"
        >
          WARDIANS!
        </h1>
        <a
          href="https://houseofwardians.com"
          class="font-lilita blank mt-10 inline-block px-8 py-5 bg-yellow-400 border-[3px] border-black rounded-lg shadow-[0_4px_0_0_rgba(0,0,0,1)] text-black font-extrabold text-lg tracking-wide hover:bg-yellow-300 transition-transform active:translate-y-1"
        >
          ¡JUEGA AHORA!
        </a>
      </div>

      <!-- PERSONAJES HERO -->
      <div
        class="absolute bottom-0 left-0 w-44 md:w-96 lg:w-[32rem] z-10 transform -scale-x-100"
      >
        <div class="relative">
          <Image src={Panda} alt="Panda" />
          <div
            class="absolute bottom-20 left-1/2 transform -translate-x-1/2 w-[80%] h-3 md:h-4 lg:h-5 bg-black/40 rounded-full blur-md z-0"
          >
          </div>
        </div>
      </div>

      <div class="absolute bottom-0 right-0 w-44 md:w-96 lg:w-[32rem] z-10">
        <div class="relative">
            <Image src={Gorilla} alt="Gorilla" />
        <div
            class="absolute bottom-8 left-1/2 transform -translate-x-1/2 w-[80%] h-3 md:h-4 lg:h-5 bg-black/40 rounded-full blur-md z-0"
          ></div>
      </div>
    </section>

    <!-- SEPARADOR PAL0 -->
    <div class="relative z-30 h-[120px] overflow-visible">
      <Image
        src={Separador}
        alt="Separador palo"
        class="absolute left-0 w-full max-w-none pointer-events-none"
      />
    </div>

    <!-- SECCIÓN 2 superpuesta -->
    <section
      class="sticky top-0 h-screen z-20 bg-[url('/purple-background.png')] bg-cover bg-center bg-fixed text-white flex items-center justify-center px-6 overflow-hidden"
    >
      <!-- Fondo parallax icónico -->

      <div
        class="absolute bottom-0 mb-14 left-20 z-10 w-44 md:w-80 lg:w-4/12 transform -scale-x-100"
      >
        <div class="relative">
          <Image src={Human} alt="Human" />
          <div
            class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-[80%] h-3 md:h-4 lg:h-5 bg-black/40 rounded-full blur-md z-0"
          >
        </div>

        </div>

      </div>
      <div class="absolute bottom-0 mb-14 right-0 z-20 w-44 md:w-80 lg:w-6/12">
        <div class="relative">
          <Image src={Croco} alt="Croco" />
          <div
            class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-[80%] h-3 md:h-4 lg:h-5 bg-black/40 rounded-full blur-md z-0"
          >
          </div>
        </div>
      </div>

      <!-- TÍTULOS -->
      <div class="relative z-20 text-center px-4 max-w-5xl mx-auto">
        <h2
          class="font-lilita font-extrabold text-white text-4xl md:text-6xl lg:text-8xl drop-shadow-[6px_6px_0_rgba(0,0,0,1)] -rotate-2 uppercase"
        >
          prepárate.
        </h2>
        <h2
          class="font-lilita font-extrabold text-white text-4xl md:text-6xl lg:text-8xl drop-shadow-[6px_6px_0_rgba(0,0,0,1)] -rotate-2 uppercase"
        >
          enfréntalos.
        </h2>
        <h2
          class="font-lilita font-extrabold text-white text-4xl md:text-6xl lg:text-8xl drop-shadow-[6px_6px_0_rgba(0,0,0,1)] -rotate-2 uppercase"
        >
          véncelos.
        </h2>
        <p
          class="font-lilita mt-6 text-lg md:text-xl text-white/90 max-w-xl mx-auto"
        >
          House of Wardians es un juego de lucha estratégico con combate
          automático, centrado en la gestión y evolución de luchadores.
        </p>
      </div>
    </section>

    <!-- SECCIÓN 3 plantilla -->
    <section
      class="sticky top-0 h-screen z-30 bg-[url('/purple-background.png')] bg-cover bg-center bg-fixed flex items-center justify-center px-6 text-white overflow-hidden fade-in-on-scroll"
    >
      <div
        class="absolute top-10 left-10 animate-float-slow z-10 w-24 md:w-32 lg:w-40"
      >
        <Image src={Jugabilidad} alt="Icono Jugabilidad" />
      </div>
      <div
        class="absolute top-10 inset-x-0 mx-auto animate-float-fast z-10 w-24 md:w-32 lg:w-40"
      >
        <Image src={Modos} alt="Icono Modos" />
      </div>
      <div
        class="absolute top-10 right-10 animate-float-slow z-10 w-24 md:w-32 lg:w-40"
      >
        <Image src={Multijugador} alt="Icono Multijugador" />
      </div>
      <div
        class="absolute bottom-10 left-10 animate-float-fast z-10 w-24 md:w-32 lg:w-40"
      >
        <Image src={Personaliza} alt="Icono Personaliza" />
      </div>
      <div
        class="absolute bottom-10 inset-x-0 mx-auto animate-float-slow z-10 w-24 md:w-32 lg:w-40"
      >
        <Image src={Progresa} alt="Icono Progresa" />
      </div>
      <div
        class="absolute bottom-10 right-10 animate-float-fast z-10 w-24 md:w-32 lg:w-40"
      >
        <Image src={Wardians} alt="Icono Wardians" />
      </div>

      <div class="relative z-20 text-center">
        <h2
          class="font-lilita text-white text-5xl md:text-7xl lg:text-[160px] font-extrabold drop-shadow-[5px_5px_0_rgba(0,0,0,1)] -rotate-2"
        >
          Explora tus logros
        </h2>
        <h2
          class="font-lilita text-white text-5xl md:text-7xl lg:text-[160px] font-extrabold drop-shadow-[5px_5px_0_rgba(0,0,0,1)] -rotate-2"
        >
          y recompensas
        </h2>
        <p
          class="font-lilita mt-6 text-lg md:text-xl text-white/90 max-w-xl mx-auto"
        >
          Diseñado para ofrecer una experiencia accesible pero profunda, HoW
          combina elementos de RPG, coleccionismo y personalización con una
          estructura multijugador asíncrona ideal para sesiones móviles.
        </p>
      </div>
    </section>

    <!-- SECCIÓN 4: DUEL COMBATE -->
    <section id="duel-wrapper" class="relative h-[200vh] z-50">
      <div
        id="duel-section"
        class="sticky top-0 h-screen w-full bg-black overflow-hidden"
      >
        <!-- Paneles -->
        <div
          id="duel-left"
          class="absolute top-0 left-0 w-full h-full bg-blue-600 transform -translate-x-full transition-transform duration-700 ease-in-out z-10 clip-left"
        >
        </div>
        <div
          id="duel-right"
          class="absolute top-0 left-0 w-full h-full bg-red-600 transform translate-x-full transition-transform duration-700 ease-in-out z-20 clip-right"
        >
        </div>

        <!-- Texto -->
        <div
          class="relative z-40 flex flex-col items-center justify-center h-full text-white text-center px-4 md:px-10 lg:px-10 pointer-events-none"
        >
          <h2
            class="text-4xl md:text-7xl lg:text-[100px] font-black leading-tight drop-shadow-[4px_4px_0_rgba(0,0,0,1)] -rotate-2 max-w-xs md:max-w-3xl"
          >
            ¿Estás preparado?
          </h2>
          <p
            class="text-base md:text-xl lg:text-xl mt-4 max-w-xs md:max-w-xl leading-snug"
          >
            Prueba los distintos modos: Liga, Batalla Rápida, Amistosa...<br
            />¡Y mucho más!
          </p>
        </div>

        <!-- Contenedor de ambos personajes (ahora después de paneles y texto) -->
        <div
          id="duel-chars"
          class="absolute inset-0 z-30 opacity-0 scale-90 transition-all duration-700 ease-out pointer-events-none"
        >
          <!-- Gecko (mirando hacia la derecha, más grande) -->
          <div class="absolute top-6 left-6 w-52 ml-2 md:w-64 lg:w-3/12">
            <div class="relative">
              <Image
                src={Gecko}
                alt="Gecko"
                class="w-full scale-x-[-1] relative z-10"
              />
              <div
                class="absolute bottom-6 left-1/2 transform -translate-x-1/2 w-[80%] h-3 md:h-4 lg:h-5 bg-black/40 rounded-full blur-md z-0"
              >
              </div>
            </div>
          </div>

          <!-- Bull (más grande) -->
          <div class="absolute bottom-6 right-6 w-52 md:w-64 lg:w-4/12">
            <div class="relative">
              <Image src={Bull} alt="Bull" class="w-full relative z-10" />
              <div
                class="absolute bottom-20 left-1/2 transform -translate-x-1/2 w-[80%] h-3 md:h-4 lg:h-5 bg-black/40 rounded-full blur-md z-0"
              >
              </div>
            </div>
          </div>
        </div>
      </div>

      <script>
        if (typeof window !== "undefined") {
          const fadeObserver = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  entry.target.classList.add("fade-in");
                } else {
                  entry.target.classList.remove("fade-in");
                }
              });
            },
            { threshold: 0.4 }
          );

          document.querySelectorAll(".fade-in-on-scroll").forEach((el) => {
            fadeObserver.observe(el);
          });

          const duelObserver = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                const left = document.getElementById("duel-left");
                const right = document.getElementById("duel-right");
                const charGroup = document.getElementById("duel-chars");

                if (entry.isIntersecting) {
                  left?.classList.remove("-translate-x-full");
                  right?.classList.remove("translate-x-full");
                  setTimeout(() => {
                    charGroup?.classList.add("opacity-100", "scale-100");
                  }, 700);
                } else {
                  left?.classList.add("-translate-x-full");
                  right?.classList.add("translate-x-full");
                  charGroup?.classList.remove("opacity-100", "scale-100");
                }
              });
            },
            { threshold: 0.5 }
          );

          const duelSection = document.getElementById("duel-section");
          if (duelSection) duelObserver.observe(duelSection);
        }
      </script>

      <style>
        @keyframes float {
          0%,
          100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-20px);
          }
        }
        .animate-float-slow {
          animation: float 6s ease-in-out infinite;
        }
        .animate-float-fast {
          animation: float 4s ease-in-out infinite;
        }

        .fade-in-on-scroll {
          opacity: 0;
          transition: opacity 1s ease-in-out;
        }
        .fade-in-on-scroll.fade-in {
          opacity: 1;
        }

        .clip-left {
          clip-path: polygon(0 0, 0 100%, 100% 0);
        }

        .clip-right {
          clip-path: polygon(100% 0, 100% 100%, 0 100%);
        }

        .opacity-100 {
          opacity: 1 !important;
        }

        .scale-100 {
          transform: scale(1) !important;
        }
      </style>
    </section>
  </div></Layout
>
