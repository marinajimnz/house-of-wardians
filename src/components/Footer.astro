---
import { Icon } from "astro-icon/components";
import { Image } from "astro:assets";

import LogoStudio from "../assets/images/logo-nakama.webp";

// Props
const { content, lang = "es", androidButton, iosButton } = Astro.props;

// Mapeo de imágenes
const imageMap = {
  "early-android-es.webp": await import("../assets/images/early-android-es.webp"),
  "early-android-en.webp": await import("../assets/images/early-android-en.webp"),
  "early-ios-es.webp": await import("../assets/images/early-ios-es.webp"),
  "early-ios-en.webp": await import("../assets/images/early-ios-en.webp")
};
---

<footer class="bg-black border-t border-gray-800">
  <!-- BOTÓN BETA -->
  <div class="border-b border-gray-800 py-4">
    <div class="max-w-7xl mx-auto px-4 flex justify-center">
      <div class="flex gap-3">
        <a
          href={androidButton.link}
          target="_blank"
          class="block"
        >
          <Image
            src={imageMap[androidButton.image as keyof typeof imageMap].default}
            alt={androidButton.alt}
            class="w-48 md:w-64 hover:scale-105 transition-transform duration-200"
          />
        </a>
        <a
          href={iosButton.link}
          target="_blank"
          class="block"
        >
          <Image
            src={imageMap[iosButton.image as keyof typeof imageMap].default}
            alt={iosButton.alt}
            class="w-48 md:w-64 hover:scale-105 transition-transform duration-200"
          />
        </a>
      </div>
    </div>
  </div>

  <!-- LOGO, LEGAL, RRSS -->
  <div class="py-6">
    <div class="max-w-7xl mx-auto px-4 flex flex-col lg:flex-row justify-between items-center lg:items-start gap-6">
      <!-- Logo -->
      <div class="flex justify-center lg:justify-start w-full lg:w-auto">
        <a href="https://vidibondgames.com/" target="_blank">
          <Image
            src={LogoStudio}
            alt="Nakama Game Studio"
            class="w-24 md:w-32"
          />
        </a>
      </div>

      <!-- Política de privacidad -->
      <nav class="flex justify-center w-full lg:w-auto gap-6 text-sm text-gray-400">
        <a
          href={`/${lang}/${lang === "en" ? "legal" : "aviso-legal"}`}
          target="_blank"
          class="hover:text-white transition-colors"
        >
          {content.legal}
        </a>
      </nav>

      <!-- RRSS -->
      <div class="flex justify-center lg:justify-end w-full lg:w-auto items-center gap-4">
        <a
          href="https://www.instagram.com/nakamagamestudio/"
          target="_blank"
          class="w-6 md:w-8 hover:scale-110 transition-transform duration-200"
        >
          <Icon name="instagram" class="w-full h-full text-white" />
        </a>
        <a
          href="https://www.tiktok.com/@nakama_gamestudio"
          target="_blank"
          class="w-6 md:w-8 hover:scale-110 transition-transform duration-200"
        >
          <Icon name="tiktok" class="w-full h-full text-white" />
        </a>
        <a
          href="https://www.youtube.com/@Nakamagamestudio"
          target="_blank"
          class="w-6 md:w-8 hover:scale-110 transition-transform duration-200"
        >
          <Icon name="youtube" class="w-full h-full text-white" />
        </a>
      </div>
    </div>
  </div>
</footer>
