---
import { Icon } from "astro-icon/components";
import { Image } from "astro:assets";

import Discord from "../assets/images/discord.webp";

// FAQ.astro
const faqs = [
  {
    question: "¿QUÉ ES HOUSE OF WARDIANS?",
    answer: "House of Wardians es un proyecto nacido de la idea de rescatar el concepto del mítico juego de navegador 'El Bruto' y adaptarlo a las mecánicas de juego actuales, añadiendo profundidad y elementos que aumentan el impacto de las decisiones del jugador y elevan la emoción en todos los aspectos del juego. Con un sistema de juego más pulido, nuevas funciones y modos, y un estilo visual inspirado directamente en la animación tipo cartoon, queremos traer de vuelta la experiencia que triunfó hace más de una década, adaptada al público actual, con el objetivo de entretener y emocionar a todos los jugadores."
  },
  {
    question: "¿EN QUÉ PLATAFORMAS ESTARÁ DISPONIBLE?",
    answer: "El juego está diseñado exclusivamente para dispositivos móviles, tanto Android como iOS."
  },
  {
    question: "¿SE VA A AÑADIR MÁS CONTENIDO?",
    answer: "¡Por supuesto! Esta es solo una primera versión. Tenemos previsto añadir nuevos wardians, armas, habilidades, espíritus y modos de juego de forma progresiva."
  },
  {
    question: "¿EL JUEGO SERÁ GRATUITO?",
    answer: "Sí, descargar y jugar a House of Wardians será completamente gratuito. El juego incluirá algunas compras opcionales dentro de la aplicación, principalmente relacionadas con elementos estéticos y ciertos contenidos jugables. Sin embargo, el progreso estará cuidadosamente equilibrado para que todas las funcionalidades principales sean accesibles sin necesidad de realizar pagos. Nuestro compromiso es ofrecer una experiencia justa y disfrutable para todos los jugadores, evitando cualquier enfoque de monetización agresiva o que otorgue ventajas competitivas por realizar compras."
  },
  {
    question: "¿CÓMO PUEDO GANAR MÁS COMBATES?",
    answer: "Pese a que el combate sea automático, el jugador posee gran impacto sobre el desarrollo de las batallas. Una elección adecuada de las armas asegurará aprovechar al máximo las estadísticas de tu wardian para maximizar sus fortalezas en combate. Del mismo modo, la elección de un espíritu que haga buena sinergia con los stats del wardian son una ventaja importante. Así pues, aprender bien cuáles son los puntos fuertes de un wardian te permitirá equiparlo con aquello que mejor le convenga."
  },
  {
    question: "¿CONSERVARÉ MIS WARDIANS CUANDO SE LANCE LA VERSIÓN 1.0?",
    answer: "Lamentablemente, no. Durante el período de alpha y beta, el juego estará sujeto a múltiples cambios, por lo que los datos de esa etapa no se conservarán para el lanzamiento oficial."
  }
];
---

<section class="bg-gradient-to-br from-blue-800 via-indigo-800 to-indigo-900 py-20 min-h-screen flex items-center">
  <div class="max-w-6xl mx-auto px-5">
    <!-- Header con título y botón Discord -->
    <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-16">
      <div class="mb-8 lg:mb-0">
        <h2 class="font-lilita text-white text-5xl md:text-7xl lg:text-[100px] font-extrabold drop-shadow-[5px_5px_0_rgba(0,0,0,1)] -rotate-2">
          PREGUNTAS<br>
          FRECUENTES
        </h2>
      </div>
      
    <a href="#">
        <Image src={ Discord } alt="Discord" class="w-80 md:w-full hover:scale-105 transition-transform duration-200" />
    </a> 
      
    </div>
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 lg:gap-8 items-start">
      {faqs.map((faq, index) => (
        <div class="faq-item bg-white/5 rounded-xl overflow-hidden backdrop-blur-sm border border-white/10 transition-all duration-300 hover:bg-white/8 hover:-translate-y-1">
          <button class="faq-question w-full bg-transparent border-none p-8 flex justify-between items-center cursor-pointer text-left transition-all duration-300" data-faq={index}>
            <span class="text-white font-bold text-base tracking-wide leading-relaxed flex-1 mr-5">
              {faq.question}
            </span>
            <span class="toggle-icon text-yellow-400 transition-all duration-300 flex-shrink-0">
              <Icon name="toggle" class="w-6 h-full text-yellow-400 drop-shadow-[3px_3px_0_rgba(0,0,0,1)]" />
            </span>
          </button>
          <div class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
            <div class="answer-content p-8 pt-0 border-t border-white/10">
              <p class="text-white/85 leading-relaxed text-sm mt-5">
                {faq.answer}
              </p>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .faq-item.active .toggle-icon {
    transform: rotate(45deg);
  }

  .faq-item.active .faq-answer {
    max-height: 500px;
  }

  @media (max-width: 768px) {
    .faq-question {
      padding: 1.25rem;
    }
    
    .faq-question span:first-child {
      font-size: 0.875rem;
      margin-right: 0.9375rem;
    }
    
    .answer-content {
      padding: 0 1.25rem 1.25rem;
    }
    
    .answer-content p {
      font-size: 0.875rem;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const faqButtons = document.querySelectorAll('.faq-question');
    
    faqButtons.forEach(button => {
      button.addEventListener('click', function(event) {
        const faqItem = (event.currentTarget as HTMLElement).closest('.faq-item');
        const isActive = faqItem?.classList.contains('active');
        
        // Cerrar todas las otras preguntas
        document.querySelectorAll('.faq-item').forEach(item => {
          item.classList.remove('active');
        });
        
        // Toggle la pregunta actual
        if (faqItem && !isActive) {
          faqItem.classList.add('active');
        }
      });
    });
  });
</script>